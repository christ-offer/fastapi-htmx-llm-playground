<html>
  <head>
    <script src="https://unpkg.com/htmx.org@1.9.3"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/sse.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="/static/code.css">
    <link rel="stylesheet" href="/static/styles.css">
    <title>Chatbot</title>
  </head>
  <body>
    <nav>
      <header>
        <button 
          hx-get="/new_chat" 
          hx-swap="none"
        >New Chat</button>
      </header>
      <main>
        <h4>Chat History</h4>
        <ul 
          class="history" 
          name="get_history" 
          hx-get="/get_history" 
          hx-trigger="load" 
          hx-target=".history" 
          hx-swap="innerHTML"
        ></ul>
      </main>
    </nav>
    <section>
      <div class="chat-history">
        <div 
          class="empty-chat-container" 
          id="empty-chat-container"
        >
          <p>Start a new chat by clicking the "New Chat" button in the sidebar, or press an existing chat to open it's history. </p>
        </div>
      </div>
    </section>
    <aside>
      <div 
        hx-get="/settings" 
        class="settings" 
        hx-target=".settings" 
        hx-trigger="load" 
        hx-swap="innerHTML"
      ></div>
    </aside>
  </body>
</html>
<style>
body {
  display: grid;
  grid-template-columns: 1fr 4fr 2fr;
  height: 100%;
  max-height: 100vh;
  overflow-y: hidden;
}
nav {
  background-color: var(--background-secondary);
  padding: 1rem;
  height: 100vh;
}
nav header {
  display:flex;
  flex-direction: column;
  align-items: center;
  padding-bottom: 1rem;
}
nav main h4 {
  text-align: center;
  padding-bottom: 1rem;
}
nav ul {
  list-style: none;
  padding: 0;
}
nav ul li {
  padding: 0.5rem;
  margin: 0.5rem;
  background-color: var(--background-tertiary);
  border-radius: 5px;
}
nav button {
  padding: 0.5rem;
  margin: 0.5rem;
  margin-inline: auto;
  border-radius: 5px;
  border: 1px solid var(--background-tertiary);

}
section {
  display: grid;
  grid-template-rows: 1fr 100px;
}
.empty-chat-container {
  height: 100%;
  display: grid;
  place-items: center;
}
.empty-chat-container p {
  text-align: center;
  font-weight: 700;
  font-size: 1.5rem;
  max-width: 33ch;
  color: var(--text-secondary);
}
aside {
  background-color: var(--background-secondary);
  padding: 1rem;
}
.chat-history {
  padding: 1rem;
  max-height: calc(100vh - 125px);
  overflow-y: scroll;
}
aside .settings {
  padding-inline: 1rem;
}
aside ul {
  margin-left: 1rem;
  padding-block: 1rem;
}
aside li {
  margin-left: 0.25rem;
}
</style>